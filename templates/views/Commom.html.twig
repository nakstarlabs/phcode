{% extends 'AdminBundle::base.html.twig' %} {% block more_css %}

<!-- <link href="{{ asset('back-assets/css/tables.custom.css') }}" type="text/css" rel="stylesheet" media="screen,projection"> -->

<!-- SWITCHS -->
<link href="{{ asset('inspina/css/plugins/switchery/switchery.css') }}" type="text/css" rel="stylesheet" media="screen,projection">

<!-- CHECKBOX -->
<link href="{{ asset('inspina/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css') }}" type="text/css"
    rel="stylesheet" media="screen,projection">

<!-- TOASTR -->
<link href="{{ asset('inspina/css/plugins/toastr/toastr.min.css') }}" type="text/css" rel="stylesheet" media="screen,projection">

<!-- DATATABLE -->
<link href="{{ asset('inspina/css/plugins/dataTables/datatables.min.css') }}" rel="stylesheet"> 

<!-- MS CONTEXT MENU STYLE -->
<link href="{{ asset('back-assets/ms-plugins/ms-context-menu/ms-dinamic-context-menu.css') }}" rel="stylesheet"> 

{% endblock %} 

{% block title %} Lista de Usadores {% endblock %} 


{% block container %}

<!-- Bread cumbs -->
<div class="row wrapper border-bottom white-bg page-heading">

    <div class="col-lg-10 col-md-10 col-sm-8">
        <h2>
            <i class="fa fa-group"></i> Usadores</h2>
        <ol class="breadcrumb">
            <li>
                <a href="">MedSabia</a>
            </li>
            <li>
                <a>Configurações</a>
            </li>
            <li class="active">
                <strong>Lista de Usadores</strong>
            </li>
        </ol>
    </div>

</div>

<!-- Row for Button Optins -->
<div class="row ibox row-button-options" style="margin:10px 0px;">


    <div class="col-md-8 col-lg-7 col-sm-6">

        <a data-toggle="modal" data-target="#newModal" class=" btn btn-primary btn-new">
            <i class="fa fa-plus-circle"></i> Nuevo </a>

    </div>

    <div class="col-md-4 col-lg-5 col-sm-6">
        <a class="btn btn-default btn-refresh pull-right">
            <i class="fa fa-refresh"></i> Atualizar </a>
        <div class="btn-group">
            <button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
                <i class="fa fa-gear"></i> Opçoes
                <span class="caret"></span>
            </button>

            <ul class="dropdown-menu">
                <li>
                    <a href="#">Filtrar</a>
                </li>
            </ul>
        </div>
    </div>

</div>

<!-- Table declaracion -->
<div class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Listado de Usuario con acceso a MedSabia</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-wrench"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li>
                            <a href="#">Config option 1</a>
                        </li>
                        <li>
                            <a href="#">Config option 2</a>
                        </li>
                    </ul>

                </div>
            </div>
            <div class="ibox-content">
                <div class="table-responsive" data-example-id="hoverable-table">
                    <table class="table table-striped table-bordered table-hover table-objects">
                        <thead>
                            <tr>
                                <th width="5%"></th>
                                <th>Name</th>
                                <th>Email</th>
                                <th width="30%">Roles</th>
                                <th width="6%">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="titles-list">

                            <tr>
                                <td colspan="5">Loading data..</td>
                            </tr>


                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</div>



<!-- Modals Declaracio -->

<div class="modal inmodal" id="newModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated bounceInRight">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">Novo Usador</h4>
            </div>
            <div class="modal-body">

                <form class="form-horizontal" id="new-object" method="POST">



                    <div class="form-group">
                        <div class="row">

                            <div class="col-md-3 col-lg-2 col-sm-3">
                                <label for="firstname">Sexo</label>
                                <div class="switch">
                                    <div class="onoffswitch">
                                        <input type="checkbox" name="sex" checked class="onoffswitch-checkbox" id="example1">
                                        <label class="onoffswitch-label" for="example1">
                                            <span class="onoffswitch-inner"></span>
                                            <span class="onoffswitch-switch"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4 col-lg-5 col-sm-9">
                                <label for="firstname">Nome</label>
                                <input type="text" class="form-control" id="firstname" name="firstname" placeholder="Nome">
                            </div>

                            <div class="col-md-5 col-lg-5 col-sm-12">
                                <label for="lastname">Sobrenomes</label>
                                <input type="text" class="form-control" id="lastname" name="lastname" placeholder="Sobrenomes">
                            </div>

                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-4 col-lg-4 col-sm-12">
                                <label for="email">Correio</label>
                                <input type="text" class="form-control" id="email" name="email" placeholder="Correio">
                            </div>

                            <div class="col-md-4 col-lg-4 col-sm-6">
                                <label for="password">Senha</label>
                                <input type="password" class="form-control" id="password" name="password" placeholder="Senha">
                            </div>

                            <div class="col-md-4 col-lg-4 col-sm-6">
                                <label for="password2">Repeta senha</label>
                                <input type="password" class="form-control" id="password2" name="password2" placeholder="Senha">
                            </div>

                        </div>

                    </div>

                    <div class="form-group">

                        <div class="row">


                            {% for role in roles %}
                            <div class="col-md-4 col-lg-4 col-sm-6">

                                <div class="checkbox checkbox-primary">
                                    <input id="role-box{{ role.id }}" value="{{ role.key }}" name="roles" type="checkbox">
                                    <label for="role-box{{ role.id }}">
                                        {{ role.name }}
                                    </label>
                                </div>

                            </div>
                            {% else %}
                            <p>
                                <label class="red-text">No se han configurado roles aun.</label>
                            </p>
                            {% endfor %}


                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-white" data-dismiss="modal">
                    <i class="fa fa-times"></i>&nbsp; Close
                </button>

                <button id="save-user" type="button" class="btn btn-primary">
                    <i class="fa fa-save"></i>&nbsp; Gravar
                </button>

            </div>
        </div>
    </div>
</div>


<div class="modal inmodal" id="editModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated bounceInRight">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">Editar Usador</h4>
            </div>
            <div class="modal-body" id="editModal_Body">

               
            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-white" data-dismiss="modal">
                    <i class="fa fa-times"></i>&nbsp; Close
                </button>

                <button id="save-user" type="button" class="btn btn-primary">
                    <i class="fa fa-save"></i>&nbsp; Gravar
                </button>

            </div>
        </div>
    </div>
</div>

<div class="modal inmodal" id="editPasswordModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content animated bounceInRight">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title">Editar Usador</h4>
                </div>
                <div class="modal-body" id="editModal_Body">
    
                   
                </div>
                <div class="modal-footer">
    
                    <button type="button" class="btn btn-white" data-dismiss="modal">
                        <i class="fa fa-times"></i>&nbsp; Close
                    </button>
    
                    <button id="save-user" type="button" class="btn btn-primary">
                        <i class="fa fa-save"></i>&nbsp; Gravar
                    </button>
    
                </div>
            </div>
        </div>
    </div>

<div class="modal inmodal" id="deleteModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated bounceInRight">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">Eliminar Usador</h4>
            </div>
            <div class="modal-body" id="editModal_Body">
           TEns certesa que realmente deseja eliminar este elemento
            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-white" data-dismiss="modal">
                    <i class="fa fa-times"></i>&nbsp; Close
                </button>

                <button id="save-user" type="button" class="btn btn-primary">
                    <i class="fa fa-save"></i>&nbsp; Gravar
                </button>

            </div>
        </div>
    </div>
</div>


{% endblock %} {% block more_script %}
<script type="text/javascript" src="{{ asset('inspina/js/plugins/validate/jquery.validate.min.js')}}"></script>

<!-- Switchery -->
<script src="{{ asset('inspina/js/plugins/switchery/switchery.js') }}"></script>

<!-- Toastr script -->
<script src="{{ asset('inspina/js/plugins/toastr/toastr.min.js') }}"></script>

<!-- DATATABLE -->
<script src="{{ asset('inspina/js/plugins/dataTables/datatables.min.js') }}"></script>

<!-- DINAMIC CONTEXT MENU -->
<script src="{{ asset('back-assets/ms-plugins/ms-context-menu/ms-dinamic-context-menu.js') }}"></script>

<!-- URL ROUTES -->
<script type="text/javascript">
    window.admin_users_load =  "{{ path('admin_users_load') }}";
    window.admin_user_insert = "{{ path('admin_user_insert') }}";
    window.admin_user_load_edit = "{{ path('admin_user_load_edit',{'id':'ms'}) }}";
</script>

<!-- LOCAL VALIDATION -->
<script src="{{ asset('back-assets/recs-views/users/list.js') }}"></script>

{% endblock %}